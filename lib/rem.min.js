var c=null,f="undefined"==typeof require?{}:exports;f.A=function(b){return JSON.parse(JSON.stringify(b))};f.modify=function(b,a){var e=f.A(b),d;for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(e[d]=b[d]);for(d in a)Object.prototype.hasOwnProperty.call(a,d)&&(e[d]=a[d]);return e};f.z=function(b){function a(){return a.call.apply(a,arguments)}a.__proto__=b;return a};f.F=function(b){return JSON.stringify(b).replace(/[\u007f-\uffff]/g,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})};
f.t=function(b,a){b.S=a;b.prototype=Object.create(a.prototype,{constructor:{value:b,enumerable:!1}})};f.l=c;function g(){}function k(b,a){return b.hasOwnProperty.call(b.k||(b.k={}),a)?b.k[a]:b.k[a]=[]}g.prototype.i=g.prototype.L=function(b,a){0!==this.v&&k(this,b).push(a)>(this.v||10)&&console&&console.warn("Possible EventEmitter memory leak detected. "+this.k[b].length+" listeners added. Use emitter.setMaxListeners() to increase limit.");this.m("newListener",b,a);return this};
g.prototype.m=function(b){for(var a=Array.prototype.slice.call(arguments,1),e=0,d=k(this,b).slice();e<d.length;e++)d[e].apply(this,a)};f.K=g;f.url={parse:c,c:c,host:function(b){return b.hostname&&b.hostname+(b.port?":"+b.port:"")},path:function(b){return b.pathname+(b.d?"?"+f.e.stringify(b.d):"")+(b.hash?"#"+encodeURIComponent(b.hash):"")}};
f.b={create:function(b){return f.b.url({method:"GET",headers:{},url:c,body:c},b)},url:function(b,a){"string"==typeof a&&(a=f.url.parse(a));b=f.modify(b,{url:b.url?f.modify(b.url,a):a});return f.modify(b,{headers:f.modify(b.headers,{Host:f.url.host(b.url)})})},body:function(b,a,e){if("object"==typeof e){if("form"==a||"application/x-www-form-urlencoded"==a)a="application/x-www-form-urlencoded",e=f.e.stringify(e);if("json"==a||"application/json"==a)a="application/json",e=f.F(e)}return f.modify(b,{headers:f.modify(b.headers,
{"Content-Type":a,"Content-Length":e.length}),body:e})},send:c};f.e={stringify:c,parse:c};f.path={join:c};f.C=function(b){var a=require("fs"),e=require("path");try{return JSON.parse(a.R(e.join(__dirname,"../common",b+".json")))}catch(d){return c}};
"undefined"!=typeof require&&function(){f.l=function(a,b){var e=[];a.i("data",function(a){e.push(a)});a.i("end",function(){b(Buffer.concat(e))})};var b=require("url");f.url.parse=function(a){a=b.parse(""+a,!0);return{protocol:a.protocol,h:a.h,hostname:a.hostname,port:a.port,pathname:a.pathname,d:a.d||{},search:a.search,hash:a.hash}};f.url.c=function(a){return b.c(a)};var a=require("http"),e=require("https");require("querystring");f.b.send=function(d,b){var h=("https:"==d.url.protocol?e:a).b({method:d.method,
headers:d.headers,protocol:d.url.protocol,hostname:d.url.hostname,port:d.url.port,path:f.url.path(d.url)});h.i("response",function(a){3==(a.f/100|0)&&a.headers.location?f.b.send(f.b.url(d,a.headers.location),b):b&&b(c,a)});d.body!=c&&h.write(d.body);h.end();return h};f.e=require("querystring");f.path=require("path")}();
"undefined"==typeof require&&function(){function b(a){var b=0;this.statusText=a.statusText;this.f=a.status;a.onreadystatechange=function(){3==a.readyState&&(this.m("data",a.responseText.substr(b)),b=a.responseText.length);4==a.readyState&&(b<a.responseText.length&&this.m("data",a.responseText.substr(b)),this.m("end"))}.bind(this)}f.l=function(a,b){var d=[];a.i("data",function(a){d.push(a)});a.i("end",function(){b(d.join(""))})};f.url.parse=function(a){var b=document.createElement("a");b.href=a;return{protocol:b.protocol,
h:b.h,hostname:b.hostname,port:b.port,pathname:b.pathname,d:f.e.parse(b.search||""),hash:b.hash&&decodeURIComponent(b.hash.substr(1))}};f.url.c=function(a){var b=document.createElement("a");b.protocol=a.protocol;b.h=a.h;b.hostname=a.hostname;b.port=a.port;b.pathname=a.pathname;b.d=f.e.stringify(a.d);b.hash=a.hash;return b.href};f.e.parse=function(a){for(var b={},a=a.replace(/^\?/,"").replace(/\+/g," ").split("&"),d=0,i=a.length,h;d<i;d++)a[d]&&(h=a[d].split("="),b[decodeURIComponent(h[0])]=decodeURIComponent(h[1]));
return b};f.e.stringify=function(a){var b=[],d;for(d in a)b.push(encodeURIComponent(d)+(a[d]==c?"":"="+encodeURIComponent(a[d])));return b.join("&")};f.t(b,g);f.b.send=function(a,e){var d=new XMLHttpRequest;d.onreadystatechange=function(){if(2==d.readyState){var a=new b(d);e(2!=(d.f/100|0)&&d.f,a)}};d.open(a.method,f.url.c(a.url),!0);for(var i in a.headers)d.setRequestHeader(i,a.headers[i]);d.send(a.body)};f.path.join=function(){var a=Array.prototype.slice.call(arguments),b=document.createElement("a");
b.href=window.location.href;b.pathname=a.join("/").replace(/\/+/g,"/");return b.pathname.substr(a[0]&&"/"==a[0][0]?0:1)}}();var l="undefined"==typeof exports?{}:exports,f="undefined"==typeof require?f:require("./remutil");l.p="Mozilla/5.0 (compatible; REMbot/1.0; +http://rem.tcr.io/)";l.J=c;function n(b,a,e){this.D=a;this.data=e;this.type=b.c;this.f=Number(this.D.f);this.s=400<this.f?this.f:0;try{"xml"===this.type?(libxmljs||(libxmljs=require("libxmljs")),this.data=this.xml=libxmljs.Q(""+this.data)):this.data=JSON.parse(""+this.data)}catch(d){this.s=d}}function o(b,a){this.u=a}
var p=function(){function b(){}b.prototype.j=function(a){this.g||(this.g={});(this.g.request||(this.g.request=[])).push(a)};b.prototype.u=function(a){var b=Array.prototype.slice.call(arguments,1);(this.g&&this.g[a]||[]).forEach(function(a){a.apply(this,b)}.bind(this));return this};return b}(),q=function(){function b(a,b){this.a=a;this.n=b||{};this.key=this.n.key;this.G=this.n.G;this.c=this.n.c||"json";this.a.o||(this.a.o={N:{}});if(!this.a.o[this.c])throw Error('Format "'+this.c+'" not available. Please specify an available format in the options parameter.');
this.a=f.modify(this.a,this.a.o[this.c]);this.j(function(a){a.headers["User-Agent"]=a.headers["User-Agent"]||l.p});this.a.w&&this.j(function(a){a.url.pathname=this.a.w+a.url.pathname});this.a.H&&this.j(function(a){a.url.pathname=a.url.pathname+this.a.H});this.a.r&&this.j(function(a){var b=this.a.r,e;for(e in b)a.url.d[e]=this.n[e]});this.a.P&&this.j(function(a){var b=this.a.r,e;for(e in b)a.url.d[e]=b[e]})}f.t(b,p);b.prototype.B=function(a){a()};b.prototype.call=function(){var a=Array.prototype.slice.call(arguments),
b="object"==typeof a[a.length-1]?a.pop():{},a=f.path.join.apply(c,a);return new o(f.b.create({d:b,pathname:a}),function(a,b){var e=this;e.B(function(){var m=a.url.pathname.replace(/^(?!\/)/,"/");if(Array.isArray(e.a.q)){var j="";e.a.q.some(function(a){if("string"==typeof a)return j=a,!0;if(m.match(RegExp(a[0])))return j=a[1],!0})}else j=""+e.a.q;a=f.b.url(a,f.url.parse(j));a=f.b.url(a,{pathname:f.path.join(a.url.pathname,m)});e.u("request",a);e.send(a,function(a,d,j){if(b)return a=new n(e,j,d),b(a.s,
a.data,a)})});return a}.bind(this))};b.prototype.send=function(a,b){f.b.send(a,function(a,i){a?b(a,c,i):f.l(i,function(h){b(a,h,i)})})};return b}();l.I=q;l.create=function(b,a){return f.z(new q(b,a))};l.load=function(b,a,e){var a=a||"1",d=f.C(b);if(!d||!d[a])throw Error("Unable to find API "+b+"::"+a);d=d[a];d.id=b;d.version=a;return l.create(d,e)};
l.url=function(){var b=Array.prototype.slice.call(arguments),a="object"==typeof b[b.length-1]?b.pop():{},e=f.url.parse(b.shift());e.pathname=f.path.join.apply(c,[e.pathname].concat(b));e.d=a;return new o(f.b.create(e),function(a,b){a.headers["User-Agent"]=a.headers["User-Agent"]||l.p;f.b.send(a,b);return a})};l.M=f.l;"undefined"!=typeof require&&(require("./oauth"),require("./aws"),require("./session"),l.console=l.O);
